{% load staticfiles %}
<!doctype html>
<html lang="en" ng-app="requestKNA">
<head>
  <meta charset="utf-8">
  <title>My HTML File</title>
  <link rel="stylesheet" href="{% static 'request_creation/bower_components/bootstrap/dist/css/bootstrap.css' %}">
  <link rel="stylesheet" href="{% static 'request_creation/css/app.css' %}">
  <link rel="stylesheet" href="{% static 'request_creation/css/main.css' %}">
  <script src="{% static 'request_creation/bower_components/angular/angular.js' %}"></script>
  <script src="{% static 'request_creation/js/app.js' %}"></script>
  <script src="{%  static 'request_creation/js/controllers.js' %}"></script>
  <script src="{% static 'request_creation/js/filters.js' %}"></script>
  <script src="{% static 'request_creation/bower_components/jquery/dist/jquery.js' %}"></script>
</head>
<body ng-controller="claimInfoCtrl">
  <!-- Початок вмісту сторінки -->
  <div class="container">
    <div class="page-header">
      <h1>Заявки на проведение научных экспериментов КНА "Ионосат-Микро" </h1>
    </div>
    <p class="lead">Принять формат файла заявки на проведение научных экспериментов КНА "Ионосат-Микро"</p>
  </div>
  <form class="container">
    <div class="panel panel-default">

      <div class="panel-heading"><b>Оформлення заявки</b></div>
      <div class="panel-body" >
    <div class="form-group">
      <label >Номер заявки (буде приписуватись з сервера автоматично)[[user]]</label>
      <input type="number" min="0" max="9999" step="1" class="form-control" ng-value="number" ng-model="user.number">
    </div>
    <div class="row form-group">
      <div class="col-sm-6">
        <label>Дата початку</label>
        <input type="date" class="form-control" ng-model="user.date_start" required>
      </div>
      <div class="col-sm-6">
        <label>Дата кінця</label>
        <input type="date" class="form-control" ng-model="user.date_end" required>
      </div>
    </div>
    <div class="form-group">
      <label>[[user.orbit_flag]]Признак ветви: </label>
      <select ng-model="user.orbit_flag" ng-options="branch.code as branch.name for branch in branches" class="form-control" ng-value="branch.code" required></select>
      </datalist>
    </div>

    <div class="form-group">
      <label>Широта начальной точки сеанса работы[[name.latitude_start]]</label>
      <input type="number" value="0" min="-82.0" max="82.0" step="0.1" class="form-control" ng-model="user.latitude_start" required>
    </div>

    <div class="row form-group">
      <div class="col-sm-6">
        <label>Лівий кордон діапазону</label>
        <input type="number" value="180" min="0" max="359.0" step="0.1" class="form-control" ng-model="user.longitude_left" required>
      </div>
      <div class="col-sm-6">
        <label>Правий кордон діапазону!!!</label>
        <input type="number" value="180" min="0" max="359.0" step="0.1" class="form-control" ng-model="user.longitude_right" required>
      </div>
    </div>
        <div id="hello" ng-controller="TodoListController as todoList">
          <div class="panel panel-default" ng-repeat="todo in todoList.todos">

            <div class="panel-heading"><b ng-model="user.switches"> Прилад : [[ switches]]</b></div>
            <div class="panel-body">

              <div class="form-group">
                <label>Назва приладу</label>
                <select ng-model="switches.device" ng-options=" applic.name for applic in appliance" class="form-control" required></select>

              </div>

              <div class="form-group">
                <label>Режим роботи:[[ mybehav.atr ]]</label>
                <select ng-model="switches.mode" ng-options="behav.name as behav.name for behav in switches.device.modes" class="form-control" required></select>
              </div>
              <div class="row form-group">
                <div class="col-sm-6">
                  <label>Час затримки</label>
                  <input ng-model="switches.time_delay" type="time" step="1" class="form-control" ng-model="user.time_delay" required>
                </div>
                <div class="col-sm-6">
                  <label>Час роботи</label>
                  <input ng-model="switches.duration" type="time" step="1" class="form-control" ng-model="user.timework" required>
                </div>
              </div>
              <div class="form-group">
                <label>Код для програматора</label>
                <textarea ng-model="switches.argument_part" class="form-control" rows="3" ng-model="text">[[ device ]]</textarea>
              </div>
            </div>
          </div>

    <div class="form-group">
      <button ng-click="todoList.addTodo()"
              type="button"
              class="btn btn-primary btn-lg btn-block">
        <span class="glyphicon glyphicon-plus"></span>
        Добавити пристрій
      </button>
    </div>
      </div>
    <div class="form-group">
      <button
              class="btn btn-success btn-lg btn-block"
              ng-click="dataReqest()"
              >
        <span class="glyphicon glyphicon-ok"></span>
        Згенерувати заявку
      </button>
      <!--<a href="KNA.zp" class="btn btn-success btn-lg btn-block" download="KNA"><span class="glyphicon glyphicon-download-alt"></span> Скачать </a> -->
    </div>
  <footer class="footer">
    <div class="container">
      <p class="text-muted">Копірайти та може контакти чи ще щось</p>
    </div>
  </footer>

    <script async="" src="https://cdn.rawgit.com/eligrey/Blob.js/master/Blob.js"/>
    <script async="" src="https://cdn.rawgit.com/eligrey/canvas-toBlob.js/master/canvas-toBlob.js"/>
    <script async="" src="https://cdn.rawgit.com/eligrey/FileSaver.js/master/FileSaver.js"/>
    <script async="" src="https://cdn.rawgit.com/eligrey/FileSaver.js/master/demo/demo.js"/>
</body>
</html>
